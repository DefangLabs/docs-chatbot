[
  {
    "id": 1,
    "about": "Samples",
    "text": "Check out our sample projects here to get some inspiration and get a sense of how defang works. import Samples from \"../src/components/Samples\"; <Samples />"
  },
  {
    "id": 2,
    "about": "What is Defang?, Features",
    "text": "Defang is a radically simpler way for developers to develop, deploy, and debug their cloud applications. Defang enables you to easily author cloud application in any language, build and deploy to the cloud with a single command, and iterate quickly with AI-assisted tooling. - The [Defang CLI](./getting-started/installing.md) includes an AI-driven assistant that translates natural language prompts to an outline for your project that you can then refine. - Defang can automatically build and deploy your project with a single command. - If you’re new to Defang, you can try deploying to the [Defang Playground](./concepts/defang-playground.md), a hosted environment to learn to use Defang with non-production workloads. - Once you’re ready, you can [deploy](./concepts/deployments.md) it to your own cloud account - we call this [Defang BYOC](./concepts/defang-byoc.md). Defang takes care of all the heavy lifting such as configuring networking, security, [observability](./concepts/observability.md) and all the other details that usually slow down the average cloud developer. - You can also use Defang to easily [publish updates](./concepts/deployments.md#deploying-updates) to your deployed application with zero downtime. Defang provides a streamlined experience to develop, deploy, observe, and update your cloud applications. Defang includes the following features: - Support for [various types of applications](./use-cases/use-cases.md): Web services and APIs, mobile app backends, ML services, hosting LLMs, etc. - Support for your programming [language of choice](./samples.md): Node.js, Python, Golang, or anything else you can package in a Dockerfile. - Built-in AI assistant to go [from natural language prompt to an outline project](./concepts/generate.md) - Built-in AI assistant to help you [debug your cloud applications](./concepts/debug.md) - Automated [Dockerfile builds](./concepts/deployments.md) - Support for [pre-built Docker containers](./tutorials/deploy-container-using-the-cli.mdx), from public or private image registries - Ability to express your project configuration using a [Docker Compose YAML](./concepts/compose.md) file - Ability to manage [encrypted configuration values](./concepts/configuration.md) - Pre-configured environments with built-in [security](./concepts/security.md), [networking](./concepts/networking.mdx), and [observability](./concepts/observability.md) - [One-command deployments](./getting-started/installing.md) - Support for [GPUs](./concepts/resources.md) - Support for Infra-as-Code via the [Defang Pulumi provider](./concepts/pulumi.md)"
  },
  {
    "id": 3,
    "about": "FAQ, Which cloud/region is the app being deployed to?, Can I bring my own AWS or other cloud account?, On AWS, can I deploy to services such as EC2, EKS, or Lambda?, Can I access AWS storage services such as S3 or database services such as RDS? How?, Do you plan to support other clouds?, Can I run production apps with Defang?, I'm having trouble running the binary on my Mac. What should I do?, Warnings, \"The folder is not empty. Files may be overwritten.\", \"environment variable not found\", \"Unsupported platform\", \"not logged in\", \"No port mode was specified; assuming 'host'\", \"Published ports are not supported in ingress mode; assuming 'host'\", \"TCP ingress is not supported; assuming HTTP\", \"unsupported compose directive\", \"no reservations specified; using limits as reservations\", \"ingress port without healthcheck defaults to GET / HTTP/1.1\", \"missing memory reservation; specify deploy.resources.reservations.memory to avoid out-of-memory errors\", \"The build context contains more than 10 files\", \"AWS provider was selected, but AWS environment variables are not set\", \"Using Defang provider, but AWS environment variables were detected\", Errors, \"Stack:… is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and cannot be updated\", \"invalid healthcheck: ingress ports require an HTTP healthcheck on `localhost`., The build aborted with OutOfMemoryError: Container killed due to memory usage",
    "text": "- In the [Defang Playground](./concepts/defang-playground.md) the app is deployed to AWS `us-west-2`. In the [Defang BYOC](./concepts/defang-byoc.md) model, the region is determined by your [Defang BYOC Provider](/docs/category/providers) settings. - Yes! Please check out the [Defang BYOC](./concepts/defang-byoc.md) documentation for more information. - The current release includes support for containers only, deployed to ECS. We are still exploring how to support additional execution models such as VMs and functions-as-a-service. However, using our Pulumi provider, it is possible to combine Defang services with other native AWS resources. - Yes, you can access whatever other resources exist in the cloud account you are using as a [Defang BYOC](./concepts/defang-byoc.md) Provider. - While we currently support AWS as a [Defang BYOC](./concepts/defang-byoc.md) Provider, we plan to support other clouds in future releases, such as [Azure](./providers/azure.md) and [GCP](./providers/gcp.md). - The [Defang Playground](./concepts/defang-playground.md) is meant for testing and trial purposes only. Deployment of productions apps with [Defang BYOC](./concepts/defang-byoc.md) is not yet supported and disallowed by the [Terms of Service](https://defang.io/terms-service.html). If you are interested in running production apps, please [contact us](https://defang.io/#Contact-us). - MacOS users will need to allow the binary to run due to security settings: 1. Attempt to run the binary. You'll see a security prompt preventing you from running it. 2. Go to System Preferences > Privacy & Security > General. 3. In the 'Allow applications downloaded from:' section, you should see a message about Defang being blocked. Click 'Open Anyway'. 4. Alternatively, select the option \"App Store and identified developers\" to allow all applications from the App Store and identified developers to run. - This message is displayed when you run `defang generate` and the target folder is not empty. If you proceed, Defang will overwrite any existing files with the same name. If you want to keep the existing files, you should move them to a different folder before running `defang generate` or pick a different target folder. - This message is displayed when you run `defang compose up` and the Compose file references an environment variable that is not set. If you proceed, the environment variable will be empty in the container. If you want to set the environment variable, you should set it in the environment where you run `defang compose up`. - This message is displayed when you run `defang compose up` and the Compose file references a platform that is not supported by Defang. Defang Beta only supports Linux operating systems. - This message is displayed when you run `defang compose config` but you are not logged in. The displayed configuration will be incomplete. If you want to see the complete configuration, you should log in first using `defang login`. - This message is displayed when you run `defang compose up` and the Compose file declares a `port` that does not specify a port `mode`. By default, Defang will keep the port private. If you want to expose the port to the public internet, you should specify the `mode` as `ingress`: ``` services: service1: … ports: - target: 80 mode: ingress ``` - This message is displayed when you run `defang compose up` and the Compose file declares a `port` with `mode` set to `ingress` and `published` set to a port number. Defang does not support published ports in ingress mode. If you want to expose the port to the public internet, you should specify the `mode` as `ingress` and remove the `published` setting. - This message is displayed when you run `defang compose up` and the Compose file declares a `port` with `mode` set to `ingress` and `protocol` set to `tcp`. Defang does not support arbitrary TCP ingress and will assume the port is used for HTTP traffic. To silence the warning, remove the `protocol` setting. - This message is displayed when you run `defang compose up` and the Compose file declares a directive that is not supported by Defang. The deployment will continue, but the unsupported directive will be ignored, which may cause unexpected behavior. - This message is displayed when you run `defang compose up` and the Compose file declares a `resource` with `limits` but no `reservations`. Defang will use the `limits` as `reservations` to ensure the container has enough resources. Specify `reservations` if you want to silence the warning or reserve a different amount of resources: ``` services: service1: … deploy: resources: reservations: cpus: 0.5 memory: 512MB ``` - This message is displayed when you run `defang compose up` and the Compose file declares an `ingress` with a `port` but no `healthcheck`. Defang will assume the default healthcheck of `GET / HTTP/1.1` to ensure the port is healthy. Specify a `healthcheck` if you want to silence the warning or use a different healthcheck: ``` services: service1: … deploy: healthcheck: test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/health\"] ``` - This message is displayed when you run `defang compose up` and the Compose file doesn't specify a `memory` reservation. If available, Defang will use the `memory` limit as the `memory` reservation. Specify a `memory` reservation if you want to silence the warning or reserve a different amount of memory: ``` services: service1: … deploy: resources: reservations: memory: 512MB ``` - This message is displayed when you run `defang compose up` and the Compose file declares a `build` with a `context` that contains more than 10 files. Ensure the context refers to the correct folder. Defang will use the `context` as is, but you may experience slow build times. If you want to speed up the build, you should reduce the number of files in the `context`. - This message is displayed when you run `defang compose up` with the `--provider=aws` but none of the AWS environment variables were set. If you proceed, the deployment might fail, unless you have defined defined `default` credentials in the AWS configuration files or are running on an AWS instance. - This message is displayed when you run `defang compose up` with the `--provider=defang` but AWS environment variables were detected. The AWS environment variables will be ignored. - This happens if different version of the Defang CLI are used with the same AWS account. Each version one will try to update the CD stack to its version, back and forth. Make sure that all users have the same version of the CLI. Check the CLI version using `defang version`. - This message is displayed when `defang compose up` tries to deploy a service with an \"ingress\" port, if the service does not have a `healthcheck` which mentions `localhost`. Defang routes a load balancer to your service's ingress ports, and the loadbalancer needs to be able to check the health of the service. To solve this issue, ask yourself these two questions: 1. Should my service be public? It's common to declare your container's ports using the Compose file \"shorthand\" syntax (`1234:1234`). This syntax can be understood as `[HOST:]CONTAINER`. If your service is not intended to be public, you do not need to declare a HOST port. For example: ```diff services: my-service: image: my-image ports: -       - \"1234:1234\" +       - \"1234\" ``` 2. Does my healthcheck include the string `localhost`? It is very common to define a healthcheck by using `curl` or `wget` to make a request to `localhost`. So common, in fact, that defang will look for the string `localhost` in your healthcheck definition. For example, this healthcheck is valid: ```yaml healthcheck: test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:1234/health\"] ``` This healthcheck is not valid for `ingress` ports: ```yaml healthcheck: test: [\"CMD\", \"./my-healthcheck\"] ``` The image build might fail if the build process uses too much memory. The first thing to try is to limit the size of your project by excluding unnecessary files: the easiest way is to create a `.dockerignore` file that excludes irrelevatn files. Note that Defang will use a default `.dockerignore` file if you don't have one, but that default might not work for some projects and it's always better to make a `.dockerignore` file specific to your project. If that doesn't work, you can try to increase the memory available to the build process by adding a field `shm_size` to the `build` section in your `compose.yaml` file: ```yaml services: service1: build: context: . shm_size: 16g ```"
  },
  {
    "id": 4,
    "about": "GCP",
    "text": ":::info We will be working on GCP support in the future. If you are interested in GCP support, please vote on [this issue](https://github.com/DefangLabs/defang/issues/58). :::"
  },
  {
    "id": 5,
    "about": "Overview",
    "text": "Overall, the Defang Playground is very similar to deploying to your own cloud account. The Playground runs on a Defang-managed AWS account, so you can expect it to work similarly to deploying to [AWS](./aws/aws.md)."
  },
  {
    "id": 6,
    "about": "Azure",
    "text": ":::info We will be working on Azure support in the future. If you are interested in Azure support, please vote on [this issue](https://github.com/DefangLabs/defang/issues/57). :::"
  },
  {
    "id": 7,
    "about": "DigitalOcean, Getting Started",
    "text": ":::info This feature is available for Public Preview as of October 2024. This page will be updated when it is GA. ::: Why should you use Defang with DigitalOcean? Defang allows you to easily create and manage full, scalable applications with DigitalOcean. Defang aims to make it easier to deploy your services to the cloud. DigitalOcean is one of the most popular cloud providers in the world and with Defang, you dont have to waste your time understanding the complexities and challenges of the DigitalOcean platform. Let Defang do it for you and spend more time working on whats important to you! To get started with the Defang BYOC DigitalOcean Provider, first [install the latest version of the Defang CLI](../getting-started#authenticate-with-defang). Next make sure you have signed up for a [DigitalOcean account](https://try.digitalocean.com/freetrialoffer/). After signing up for your account, be sure to setup your [personal access token](https://docs.digitalocean.com/reference/api/create-personal-access-token/) as well as your [Spaces access key](https://docs.digitalocean.com/products/spaces/how-to/manage-access/).  Next, save these values as environment variables with the names `DIGITALOCEAN_TOKEN`, `SPACES_ACCESS_KEY_ID`, and `SPACES_SECRET_ACCESS_KEY`. ```bash export DIGITALOCEAN_TOKEN=<your-token> export SPACES_ACCESS_KEY_ID=<your-key-id> export SPACES_SECRET_ACCESS_KEY=<your-key> ``` The Defang CLI will automatically check if they are set before running. Once you are ready to go, add the `--provider=digitalocean` to your command to tell the Defang CLI to use the DigitalOcean provider. ```bash $ defang up --provider=digitalocean"
  },
  {
    "id": 8,
    "about": "or, Region, Architecture, Deployment, Runtime, Secrets, Future Improvements",
    "text": "$ export DEFANG_PROVIDER=digitalocean ``` The Defang BYOC DigitalOcean Provider will use the region specified in the `REGION` environment variable. For a list of regions available in DigitalOcean, see the [region documentation](https://docs.digitalocean.com/platform/regional-availability/#app-platform-availability). Defang uses resources that are native to the cloud provider you are using. The following describes the current state of Defang's support for DigitalOcean, the specific resources that Defang uses, and the roadmap for future support. To deploy your services, the Defang CLI packages your code and uploads it to a [Spaces Object Storage](https://www.digitalocean.com/products/spaces) bucket in your account. The CLI then deploys an App Platform App that uses Pulumi to build your container image and run your service. The Provider runs your workloads using the [DigitalOcean App Platform](https://docs.digitalocean.com/products/app-platform/). Defang allows you to configure your services with sensitive config values. Sensitive values are added and stored with [encryption](https://docs.digitalocean.com/products/app-platform/how-to/use-environment-variables/) in your app once it has been deployed. The following features are still in development for DigitalOcean: - [Custom Domains](/docs/concepts//domains.mdx) - [Managed Redis](/docs/concepts//managed-storage/managed-redis.md) - [Managed Postgres](/docs/concepts/managed-storage/managed-postgres.md) Stayed tuned for future updates!"
  },
  {
    "id": 9,
    "about": "AWS, Getting Started",
    "text": ":::info Public Beta of the v1 Defang BYOC AWS Provider is released as of Feb 1 2024. ::: Why should you use Defang with AWS? Defang allows you to easily create and manage full, scalable applications with AWS. Defang aims to make it easier to deploy your services to the cloud. Don't waste your time learning the ins and outs of AWS, deciding which of the 200+ services to use, and then writing the infrastructure code to deploy your services, and making sure they are properly secured. Defang does all of that for you. Getting started with the Defang BYOC AWS Provider is easy. Make sure you have properly [authenticated your AWS account](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html). :::tip If you have the aws CLI installed, you should be able to successfully run `aws sts get-caller-identity` and see your account ID. ::: Use the `--provider=aws` flag to tell the Defang CLI to use the AWS Provider or set the `DEFANG_PROVIDER` environment variable to `aws`. ```bash $ defang up --provider=aws"
  },
  {
    "id": 10,
    "about": "or, Region, Architecture, Secrets, Deployment, Runtime, Managed Storage, Managed Postgres, Managed Redis",
    "text": "$ export DEFANG_PROVIDER=aws ``` :::warning The Defang CLI does not depend on the AWS CLI. It uses the [AWS SDK for Go](https://aws.amazon.com/sdk-for-go/) to interact with your AWS account. In most cases, if you can run the `aws sts get-caller-identity` from the tip above, you should be good to go. However, due to a difference between the AWS CLI and the AWS SDK for Go, there is at least one case where they behave differently: if you are using `aws sso login` and have clashing profiles in your `.aws/config` and `.aws/credentials` files, the AWS CLI will prioritize SSO profiles and caches over regular profiles, but the AWS SDK for Go will prioritize the credentials file, and it may fail. ::: The Defang BYOC AWS Provider will use the region specified in the `AWS_REGION` environment variable, or a profile in the `~/.aws/config` file exactly as the AWS CLI would. Defang uses resources that are native to the cloud provider you are using. The following describes the current state of Defang's support for AWS, the specific resources that Defang uses, and the roadmap for future support. Defang allows you to configure your services with sensitive config values. Sensitive values are stored in AWS Systems Manager Parameter Store, and are encrypted. To deploy your services, the Defang CLI packages your code and uploads it to an S3 bucket in your account. The CLI then deploys an ECS task that uses Pulumi to build your container image and run your service. The provider runs your workloads using ECS using Fargate. It provisions a VPC with public and private subnets, and deploys your services to the private subnets. It then provisions an Application Load Balancer (ALB) and routes traffic to your services. Defang can help you provision [managed storage](/docs/concepts/managed-storage/managed-storage.md) services. The following managed storage services are supported on AWS: When using [Managed Postgres](/docs/concepts/managed-storage/managed-postgres.md), the Defang CLI provisions an RDS Postgres instance in your account. When using [Managed Redis](/docs/concepts/managed-storage/managed-redis.md), the Defang CLI provisions an ElastiCache Redis cluster in your account."
  },
  {
    "id": 11,
    "about": "Upgrade the Defang CLI to the latest version",
    "text": "```\ndefang upgrade [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for upgrade\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 12,
    "about": "Manage personal access tokens",
    "text": "```\ndefang token [flags]\n```\n\n### Options\n\n```\n      --expires duration   validity duration of the token (default 24h0m0s)\n  -h, --help               help for token\n      --scope string       scope of the token; one of [admin delete read tail delete] (required)\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 13,
    "about": "Reads a Compose file and deploy a new project or update an existing project",
    "text": "```\ndefang compose up [flags]\n```\n\n### Options\n\n```\n  -d, --detach      run in detached mode\n      --force       force a build of the image even if nothing has changed\n  -h, --help        help for up\n  -m, --mode mode   deployment mode, possible values: development, staging, production (default development)\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 14,
    "about": "Reads a Compose file and shows the generated config",
    "text": "```\ndefang compose config [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for config\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 15,
    "about": "Read and/or agree the Defang terms of service",
    "text": "```\ndefang terms [flags]\n```\n\n### Options\n\n```\n      --agree-tos   agree to the Defang terms of service\n  -h, --help        help for terms\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 16,
    "about": "Reads a Compose file and deprovisions its services",
    "text": "```\ndefang down [SERVICE...] [flags]\n```\n\n### Options\n\n```\n  -d, --detach   run in detached mode\n  -h, --help     help for down\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 17,
    "about": "Generate a TLS certificate",
    "text": "```\ndefang cert generate [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for generate\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang cert](defang_cert.md)\t - Manage certificates\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 18,
    "about": "Tail logs from one or more services",
    "text": "```\ndefang compose logs [flags]\n```\n\n### Options\n\n```\n      --etag string    deployment ID (ETag) of the service\n  -h, --help           help for logs\n  -n, --name string    name of the service\n  -r, --raw            show raw (unparsed) logs\n  -S, --since string   show logs since duration/time\n      --utc            show logs in UTC timezone (ie. TZ=UTC)\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 19,
    "about": "Reads a Compose file and deploy a new project or update an existing project",
    "text": "```\ndefang up [flags]\n```\n\n### Options\n\n```\n  -d, --detach      run in detached mode\n      --force       force a build of the image even if nothing has changed\n  -h, --help        help for up\n  -m, --mode mode   deployment mode, possible values: development, staging, production (default development)\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 20,
    "about": "Work with local Compose files",
    "text": "### Synopsis\n\nDefine and deploy multi-container applications with Defang. Most compose commands require\na \"compose.yaml\" file. The simplest \"compose.yaml\" file with a single service is:\n\nservices:\n  app:              # the name of the service\n    build: .        # the folder with the Dockerfile and app sources (. means current folder)\n    ports:\n      - 80          # the port the service listens on for HTTP requests\n\n\n### Options\n\n```\n  -h, --help   help for compose\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n* [defang compose config](defang_compose_config.md)\t - Reads a Compose file and shows the generated config\n* [defang compose down](defang_compose_down.md)\t - Reads a Compose file and deprovisions its services\n* [defang compose logs](defang_compose_logs.md)\t - Tail logs from one or more services\n* [defang compose ps](defang_compose_ps.md)\t - Get list of services in the project\n* [defang compose restart](defang_compose_restart.md)\t - Reads a Compose file and restarts its services\n* [defang compose start](defang_compose_start.md)\t - Reads a Compose file and deploys services to the cluster\n* [defang compose stop](defang_compose_stop.md)\t - Reads a Compose file and stops its services\n* [defang compose up](defang_compose_up.md)\t - Reads a Compose file and deploy a new project or update an existing project\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 21,
    "about": "Add, update, or delete service config",
    "text": "### Options\n\n```\n  -h, --help   help for config\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n* [defang config create](defang_config_create.md)\t - Adds or updates a sensitive config value\n* [defang config ls](defang_config_ls.md)\t - List configs\n* [defang config rm](defang_config_rm.md)\t - Removes one or more config values\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 22,
    "about": "Adds or updates a sensitive config value",
    "text": "```\ndefang config create CONFIG [file|-] [flags]\n```\n\n### Options\n\n```\n  -e, --env    set the config from an environment variable\n  -h, --help   help for create\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang config](defang_config.md)\t - Add, update, or delete service config\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 23,
    "about": "Get version information for the CLI and Fabric service",
    "text": "```\ndefang version [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for version\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 24,
    "about": "Tail logs from one or more services",
    "text": "```\ndefang tail [flags]\n```\n\n### Options\n\n```\n      --etag string    deployment ID (ETag) of the service\n  -h, --help           help for tail\n  -n, --name string    name of the service\n  -r, --raw            show raw (unparsed) logs\n  -S, --since string   show logs since duration/time\n      --utc            show logs in UTC timezone (ie. TZ=UTC)\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 25,
    "about": "Log out",
    "text": "```\ndefang logout [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for logout\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 26,
    "about": "Create a new Defang project from a sample",
    "text": "```\ndefang new [SAMPLE] [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for new\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 27,
    "about": "Reads a Compose file and deploys services to the cluster",
    "text": "```\ndefang compose start [flags]\n```\n\n### Options\n\n```\n      --force   force a build of the image even if nothing has changed\n  -h, --help    help for start\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 28,
    "about": "Generate a sample Defang project",
    "text": "```\ndefang generate [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for generate\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 29,
    "about": "Get list of services in the project",
    "text": "```\ndefang services [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for services\n  -l, --long   show more details\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 30,
    "about": "Defang CLI is used to develop, deploy, and debug your cloud services",
    "text": "### Options\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -h, --help                  help for defang\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang cert](defang_cert.md)\t - Manage certificates\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n* [defang config](defang_config.md)\t - Add, update, or delete service config\n* [defang down](defang_down.md)\t - Reads a Compose file and deprovisions its services\n* [defang generate](defang_generate.md)\t - Generate a sample Defang project\n* [defang login](defang_login.md)\t - Authenticate to Defang\n* [defang logout](defang_logout.md)\t - Log out\n* [defang new](defang_new.md)\t - Create a new Defang project from a sample\n* [defang restart](defang_restart.md)\t - Restart one or more services\n* [defang services](defang_services.md)\t - Get list of services in the project\n* [defang tail](defang_tail.md)\t - Tail logs from one or more services\n* [defang terms](defang_terms.md)\t - Read and/or agree the Defang terms of service\n* [defang token](defang_token.md)\t - Manage personal access tokens\n* [defang up](defang_up.md)\t - Reads a Compose file and deploy a new project or update an existing project\n* [defang upgrade](defang_upgrade.md)\t - Upgrade the Defang CLI to the latest version\n* [defang version](defang_version.md)\t - Get version information for the CLI and Fabric service\n* [defang whoami](defang_whoami.md)\t - Show the current user\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 31,
    "about": "Get list of services in the project",
    "text": "```\ndefang compose ps [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for ps\n  -l, --long   show more details\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 32,
    "about": "Reads a Compose file and restarts its services",
    "text": "```\ndefang compose restart [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for restart\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 33,
    "about": "Restart one or more services",
    "text": "```\ndefang restart SERVICE... [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for restart\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 34,
    "about": "Reads a Compose file and deprovisions its services",
    "text": "```\ndefang compose down [SERVICE...] [flags]\n```\n\n### Options\n\n```\n  -d, --detach   run in detached mode\n  -h, --help     help for down\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 35,
    "about": "Authenticate to Defang",
    "text": "```\ndefang login [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for login\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 36,
    "about": "Reads a Compose file and stops its services",
    "text": "```\ndefang compose stop [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for stop\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang compose](defang_compose.md)\t - Work with local Compose files\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 37,
    "about": "Show the current user",
    "text": "```\ndefang whoami [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for whoami\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 38,
    "about": "List configs",
    "text": "```\ndefang config ls [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for ls\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang config](defang_config.md)\t - Add, update, or delete service config\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 39,
    "about": "Manage certificates",
    "text": "### Options\n\n```\n  -h, --help   help for cert\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang](defang.md)\t - Defang CLI is used to develop, deploy, and debug your cloud services\n* [defang cert generate](defang_cert_generate.md)\t - Generate a TLS certificate\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 40,
    "about": "Removes one or more config values",
    "text": "```\ndefang config rm CONFIG... [flags]\n```\n\n### Options\n\n```\n  -h, --help   help for rm\n```\n\n### Options inherited from parent commands\n\n```\n      --color color-mode      colorize output; one of [never auto always] (default auto)\n  -C, --cwd string            change directory before running the command\n      --debug                 debug logging for troubleshooting the CLI\n      --dry-run               dry run (don't actually change anything)\n  -f, --file stringArray      compose file path\n  -T, --non-interactive       disable interactive prompts / no TTY\n  -p, --project-name string   project name\n  -P, --provider provider     bring-your-own-cloud provider; one of [defang aws digitalocean] (default auto)\n  -v, --verbose               verbose logging\n```\n\n### SEE ALSO\n\n* [defang config](defang_config.md)\t - Add, update, or delete service config\n\n###### Auto generated by spf13/cobra on 14-Oct-2024"
  },
  {
    "id": 41,
    "about": "Use Cases, Web Services and APIs, Mobile App Backends, Hosting LLMs",
    "text": "Defang can be used for a wide variety of use cases, generally in line with the [12 Factor architecture](https://12factor.net/). In this section we'll document some examples. At the end of this section we will also cover use cases that are not supported by Defang. Defang can be used to deploy web services and APIs. You can use any programming language you like, and you can use the built-in AI assistant to help you get started. Defang is a great choice for stateless web services and APIs because it takes care of all the heavy lifting such as configuring [networking](../concepts/networking.mdx), [security](../concepts/security.md), and [observability](../concepts/observability.md), and will give you a nice, [horizontally scalable](https://12factor.net/concurrency) deployment. If you are using [Defang BYOC](../concepts/defang-byoc.md), you can easily connect to databases, storage, and other services that you have running in your cloud account. A mobile app backend is a web service or API that is used by a mobile app. Defang is a great choice for mobile app backends because it helps you deploy horizontally scalable web services and APIs. It's also particularly useful for mobile app developers who aren't familiar with cloud infrastructure: you don't need to be a cloud expert, or even a web expert to use Defang and properly provision all the necessary infrastructure for your app's backend. LLMs (Large Language Models) are a type of AI model that can be used for a wide variety of tasks such as text generation, translation, summarization, and more. Defang can be used to host LLMs and provide an API for them. Configuring cloud providers like AWS to easily run containerized workloads that depend on GPUs can be quite challenging, but Defang makes it easy."
  },
  {
    "id": 42,
    "about": "Anti-patterns, Stateful Services, Data Stores",
    "text": "While Defang is great for a wide variety of use cases, there are some use cases that are not a good fit for Defang. Generally, the use-cases that are Defang anti-patterns are the same as the ones that are [12 Factor](https://12factor.net/) anti-patterns. Here are some examples: Some applications are designed to run in stateful environments. For example, a CMS like WordPress can be coerced to work in a stateless environment, but most of the tooling for it expects to have a long-lived filesystem and a database. Defang is not a good fit for these types of applications, because [containers are ephemeral and can be replaced at any time](https://12factor.net/processes). Defang is not a good fit for data stores like databases, caches, and message queues. These types of services are designed to be long-lived and to store data. Defang is primarily designed for stateless workloads, and it's not a good fit for stateful workloads: if a container is replaced, all the data in it is lost. You could probably coerce a data store to work in a stateless environment with certain replication strategies, but it's not a good fit."
  },
  {
    "id": 43,
    "about": "How to Install Defang",
    "text": "Defang doesn't require installing anything in your cloud, but you will need to install the [open source](https://github.com/DefangLabs/defang) Defang command line interface (CLI) to interact with your Defang resources and account. We offer a few different ways to install the Defang CLI. You can use a bash script, Homebrew, Winget, or you can download the binary directly. <Tabs> <TabItem value=\"bash\" label=\"Bash\"> **Using a Bash Script** You can install the Defang CLI using a bash script. Run the following command in your terminal: ```bash eval \"$(curl -fsSL https://s.defang.io/install)\" ``` The script will try to download the appropriate binary for your operating system and architecture, add it to `~/.local/bin`, and add `~/.local/bin` to your `PATH` if it's not already there, with your permission. If you do not provide permission it will print an appropriate instruction for you to follow to add it manually. You can also customize the installation directory by setting the `INSTALL_DIR` environment variable before running the script. </TabItem> <TabItem value=\"homebrew\" label=\"Homebrew\" default> **Using Homebrew** You can easily install the Defang CLI using [Homebrew](https://brew.sh/). Run the following command in your terminal: ```bash brew install DefangLabs/defang/defang ``` </TabItem> <TabItem value=\"winget\" label=\"Winget\"> **Using Winget** On Windows, you can install the Defang CLI using `winget`. Run the following command in your terminal: ```powershell winget install defang ``` </TabItem> <TabItem value=\"nix\" label=\"Nix\"> **Using Nix** ```bash nix profile install github:DefangLabs/defang#defang-bin --refresh ``` </TabItem> <TabItem value=\"direct\" label=\"Direct Download\"> **Direct Download** You can find the latest version of the Defang CLI on the [latest release page](https://github.com/DefangLabs/defang/releases/latest). Just download the appropriate binary for your operating system and architecture, and put it somewhere in your `PATH`. </TabItem> </Tabs>"
  },
  {
    "id": 44,
    "about": "Getting Started, Install the CLI, Authenticate with Defang, Agree to the terms of service, Build and Deploy Services, Monitor Services, Update Services",
    "text": "First, you'll need to install the Defang CLI. The CLI is the primary way to interact with Defang. It allows you to create, deploy, and manage your services. You can find the [different installation methods here](./installing.md). To do pretty much anything with Defang, you'll need to authenticate with the platform. You can do this by running the following command: ```bash defang login ``` :::info To learn more about how authentication works in defang, check out the [authenticating page](./authenticating.md). ::: Before you can deploy code you should read and agree to our the terms of service. You can do this by running: ```bash defang terms ``` Defang supports various ways of creating and deploying services to the cloud. The following tutorials dive into each one in more detail: 1. [Deploy an outline using AI](../tutorials/generate-new-code-using-ai.mdx) 2. [Build and deploy your code](../tutorials/deploy-code-compose.mdx) 3. [Deploy existing containers](../tutorials/deploy-container-using-the-cli.mdx) 4. [Deploy using Pulumi](../tutorials/deploy-using-pulumi.mdx) By default, all the output (stdout and stderr) from your app is logged. You can view these logs in real-time. You can view logs for all your services, one service, or even one specific deployment of a service. - From the CLI: ```tsx defang tail --name service1 ``` - From the Defang Portal: [https://portal.defang.dev/](https://portal.defang.dev/) :::info * To learn more about observability in Defang, check out the [observability page](../concepts/observability.md). * Note that the Defang Portal only displays services deployed to Defang Playground. ::: To update your app (for example, updating the base image of your container, or making changes to your code) you can run the `defang compose up` command and it will build and deploy a new version with zero downtime. Your current version of the service will keep running and handling traffic while the new version is being built and deployed. Only after the new version passes the health checks and accepts traffic will the older version be stopped. :::info If you are using [compose files](../concepts/compose.md) to define your services, you can add/remove services, make changes to code, etc. When you run `defang compose up`, the update will be diffed against the current state and any necessary changes will be applied to make the current state match the desired state. :::"
  },
  {
    "id": 45,
    "about": "Monitor a Service",
    "text": "By default, all the output (stdout and stderr) from your app is logged. You can view these logs in real-time. You can view logs for all your services, one service, or even one specific deployment of a service. - From the CLI: ```tsx defang tail --name service1 ``` - From the Defang Portal: [https://portal.defang.dev/](https://portal.defang.dev/) :::info * To learn more about observability in Defang, check out the [observability page](../concepts/observability.md). * Note that the Defang Portal only displays services deployed to Defang Playground. :::"
  },
  {
    "id": 46,
    "about": "Authenticating",
    "text": "To do pretty much anything with Defang, you'll need to authenticate with the platform. You can do this by running the following command: ```bash defang login ``` This will prompt you to open a browser and log into your Defang account. For now, the only way to login is with GitHub, though we will offer other providers to authenticate in the future. Once you've logged in, you can close the browser and return to the terminal. You should see a message that you've successfully logged in. :::warning Keep in mind that your Defang account is separate from your [cloud provider account](../concepts/defang-byoc.md). You will need to authenticate with your cloud provider account separately to deploy services to your own cloud account. :::"
  },
  {
    "id": 47,
    "about": "Update Services",
    "text": "To update your app (for example, updating the base image of your container, or making changes to your code) you can run the `defang compose up` command and it will build and deploy a new version with zero downtime. Your current version of the service will keep running and handling traffic while the new version is being built and deployed. Only after the new version passes the health checks and accepts traffic will the older version be stopped. :::info If you are using [compose files](../concepts/compose.md) to define your services, you can add/remove services, make changes to code, etc. When you run `defang compose up`, the update will be diffed against the current state and any necessary changes will be applied to make the current state match the desired state. :::"
  },
  {
    "id": 48,
    "about": "Build and Deploy Services",
    "text": "Defang supports various ways of creating and deploying services to the cloud. The following tutorials dive into each one in more detail: 1. [Create an outline using AI](../tutorials/generate-new-code-using-ai.mdx) 2. [Build and deploy your code](../tutorials/deploy-code-compose.mdx) 3. [Deploy an existing container](../tutorials/deploy-container-using-the-cli.mdx) 4. [Deploy using Pulumi](../tutorials/deploy-using-pulumi.mdx)"
  },
  {
    "id": 49,
    "about": "Debug",
    "text": "Defang includes an AI-driven tool to help you debug your cloud applications. The AI assistant will use your service logs as well as the files in your project to help you identify and resolve issues. :::warning The AI debugging assistant is currently in preview and is currently limited in its capabilities. We plan to expand the capabilities of the AI assistant in the future. :::"
  },
  {
    "id": 50,
    "about": "Resources, Examples, Docker Compose, Pulumi",
    "text": "You can configure the resources available to your Defang services as required. You can configure the CPU, memory, and disk space allocated to your services as well as the number of replicas and whether or not your services requires access to GPUs. ```yaml services: gpu-service: deploy: replicas: 3 resources: reservations: cpus: '1.0' memory: 2048M devices: - capabilities: [\"gpu\"] ``` ```typescript const service = new defang.DefangService(\"gpu-service\", { deploy: { replicas: 3, resources: { reservations: { cpu: 1.0, memory: 2048, devices: [{capabilities: ['gpu']}] } } } }); ``` :::info GPUs If you require access to GPUs, you can specify this in the `deploy.resources.reservations.devices[0].capabilities` section of your service as in the examples above. You can learn more about this in the [docker-compose documentation](https://docs.docker.com/compose/gpu-support/). This is the only supported value in the `deploy.resources.reservations.devices` section. :::"
  },
  {
    "id": 51,
    "about": "Deployment, Deploying Updates, Instance Types",
    "text": "When you deploy using Defang, whether it's with `defang compose up` with a [compose file](./compose.md) or using a [Pulumi program](./pulumi.md), Defang will build your services in the cloud and manage the deployment process for you. If you provide a Dockerfile and build context, Defang will upload the files found within the build context to the cloud (either yours in [Defang BYOC](./defang-byoc.md) or ours in [Defang Playground](./defang-playground.md)), build the image, and store it in the cloud provider's container registry. When you run a deployment to update one or more services, Defang will also make sure to get your new services up and running before deprovisioning any old services so you don't have to worry about downtime. :::info In [Defang BYOC](./defang-byoc.md), Defang will use your cloud provider account to build and store your images. In [Defang Playground](./defang-playground.md) we will build and store your images for you. ::: :::warning Workloads with GPUs do not support zero downtime deployments. If you have a workload with a GPU, you will experience downtime during updates. ::: Defang defaults to \"spot\" instances. This is a cost-effective way to run your workloads, but it does mean that your workloads can be interrupted at any time. This is consistent with the [12 Factor](https://12factor.net/) principle of [disposability](https://12factor.net/disposability). :::info In the future, we may provide a way to use \"on-demand\" instances for workloads that require more stability. :::"
  },
  {
    "id": 52,
    "about": "Pulumi, Defang Pulumi Provider, Sample",
    "text": ":::warning Pulumi support is currently only available for Defang Playground. We are working on support for Defang BYOC. ::: You can use Pulumi to define your Defang services. This allows you to integrate your Defang services with other cloud resources. For example, you might define an Aiven PostgreSQL database in your Pulumi code and then use the outputs of that resource to configure the secrets to connect to the database in your Defang service. It also allows you to manage configuration for different environments using Pulumi's config system. To get started with Pulumi and Defang you will need to install the Defang provider in [your Pulumi project](https://www.pulumi.com/learn/pulumi-fundamentals/create-a-pulumi-project/): <Tabs> <TabItem value=\"npm\" label=\"npm\" default> ```bash npm i @defang-io/pulumi-defang ``` </TabItem> <TabItem value=\"pnpm\" label=\"pnpm\"> ```bash pnpm i @defang-io/pulumi-defang ``` </TabItem> <TabItem value=\"yarn\" label=\"yarn\"> ```bash yarn add @defang-io/pulumi-defang ``` </TabItem> </Tabs> The following is a minimal example of a Pulumi program that defines a Defang service: ```typescript import * as defang from \"@defang-io/pulumi-defang/lib\"; const service = new defang.DefangService(\"my-service\", { image: \"strm/helloworld-http:latest\", ports: [{ target: 80, mode: \"ingress\", protocol: \"http\", }], }); ```"
  },
  {
    "id": 53,
    "about": "Projects, Project Names",
    "text": "A _project_ refers to a cohesive collection of services which are defined and managed using a `compose.yaml` file. The _project name_ can be defined in the compose file with [the `name` property](https://docs.docker.com/compose/compose-file/04-version-and-name/#name-top-level-element), otherwise the base name of the project directory will be used. The project name may then be used when performing project-wide operations such as listing services, tailing logs, or deprovisioning. For example: ``` defang services --project-name <project-name> defang tail --project-name <project-name> defang compose down --project-name <project-name> ``` By default `defang` will use the project name from the `compose.yaml` file in the working directory. The [`--project-name` CLI flag](/docs/cli/defang) may be used when running `defang` from outside the working directory."
  },
  {
    "id": 54,
    "about": "Portal",
    "text": "You can log into the Defang portal at [portal.defang.dev](https://portal.defang.dev) using your [Defang account](./accounts.md) to view the state of your Defang services running in the Defang Playground for non-production applications. You can use the portal to get an overview of your services, view the logs for each service, quickly access exposed ports, view environment variables, and more. :::info We will make sure you have access to the tools required to debug your services in production. At the moment we're not entirely sure what that will look like, beyond `defang tail` to view logs, but we're working on it! :::"
  },
  {
    "id": 55,
    "about": "Generate, Example Prompts",
    "text": "Defang includes an AI-driven assistant that translates natural language prompts to an outline for your project that you can then refine. The AI assistant is available through the [Defang CLI](../getting-started/installing.md). :::info The AI assistant is currently in preview and only supports a limited set of prompts, varying in complexity. We plan to expand the capabilities of the AI assistant in the future. ::: We are working on expanding the range of supported prompts and improving the accuracy of the AI assistant. If you have any feedback or suggestions, please let us know by [opening an issue](https://github.com/DefangLabs/defang/issues/new). Here are some example prompts that the AI assistant can help you with: ``` A basic service with 2 REST endpoints. The default endpoint will be for health check and should return a JSON object like this: { \"status\": \"OK\" }. The /echo endpoint will echo back all request parameters in the response. ``` ``` A simple service that runs in the cloud and serves a web page ``` ``` A simple flask app with one route that responds with a json object ``` ``` A simple next.js app that serves a static page ``` ``` A simple api with a single route built on express ``` ``` An HTTP GET endpoint that returns an HTML with a random meme from the imgflip API ``` **An example of a more complex prompt** ``` A service that uses bullmq and redis. The compose file should also include a redis service. The code should setup a queue. It should also expose three endpoints with express: one to add a job to the queue, another to check how many tasks are in the queue, and a last one that runs on / which is just a healthcheck. The code should also include a worker that processes the queue by logging what's in each task. Use environment variables to configure the redis connection. No password. ```"
  },
  {
    "id": 56,
    "about": "Accounts, Creating an Account, Structure",
    "text": "In this section, we'll be talking about a couple different topics related to accounts in Defang. First we'll cover authentication and how to create an account, and then we'll talk about how resources are organized within a cloud environment using your account info. :::tip Why do I need an account? Defang requires an account so we can organize your resources and provide you with a way to manage them. We also use your account to authenticate you when you interact with [Defang Playground](./defang-playground.md) and the [Defang Portal](./portal.md). Eventually, billing and payment information will be associated with your account. ::: To create an account, simply login to Defang and accept the [terms of service](https://defang.io/terms-service.html) using the [CLI](../getting-started/authenticating.md). At the moment, the only way to authenticate with Defang is through GitHub. We plan to offer other authentication providers in the future. Your GitHub username will be used as your Defang username and your Defang username is used to group all your services and to generate domains for your services with the following structure: ``` <username>-<servicename>--<port>.prod1.defang.dev ``` :::warning Keep in mind that your Defang account is separate from your [cloud provider account](./defang-byoc.md). You will need to authenticate with your cloud provider account separately to deploy services to your own cloud account. ::: :::info We plan to introduce a more robust system for managing accounts, permissions, service groups, etc. in the future. :::"
  },
  {
    "id": 57,
    "about": "Compose, How it works, Service Name Resolution, Configuration",
    "text": "You might be familiar with `docker-compose.yml` files, now known as the [Compose specification](https://docs.docker.com/compose/compose-file/) and `compose.yaml` files. It's a simple way to define and run multi-container Docker applications. Defang allows you to use `compose.yaml` files to deploy your application to the cloud. You can define your [services](./services.md) using a `compose.yaml` file in the root of your project, or use the [`defang generate` command](../tutorials/generate-new-code-using-ai.mdx) to generate one (along with other resources). This file is used to define your application's services and how they run. You can edit this file to add more services or change the configuration of existing services. When you run `defang compose up`, Defang will read your `compose.yaml` file and [deploy](./deployments.md) the services named in that file to the cloud. One thing to keep in mind is that, at the time of this writing, Defang identifies services by the [user/account name](./accounts.md) and the service name (as defined in the `compose.yaml` file). This means that if you have multiple Defang projects with the same service name, they will conflict with each other. We plan to provide a more robust system for managing service names and protecting against conflicts in the future. If you have a service that depends on a secret like an api key, you can set that [secret](./configuration.md) using the CLI: ``` defang config set --name MY_API_KEY ``` and then connect it to the service by specifying it in the `compose.yaml`: ```yaml services: my-service: secrets: - MY_API_KEY secrets: MY_API_KEY: external: true ``` :::info Configuration & Secrets Read more about configuration in the [configuration page](./configuration.md). :::"
  },
  {
    "id": 58,
    "about": "Configuration",
    "text": "Defang allows you to configure your application using environment variables. You can set environment variables in your [`compose.yaml` file](./compose.md), or in your [Pulumi program](./pulumi.md). Using Pulumi gives you the advantage of being able to manage your environment variables across different environments using Pulumi stacks. :::tip Sample You can find a sample of how to set environment variables with Pulumi [here](https://github.com/DefangLabs/defang/tree/main/samples/nodejs/remix-aiven-postgres). :::"
  },
  {
    "id": 59,
    "about": "Sensitive Config aka Secrets",
    "text": "The Defang CLI allows you to securely store sensitive information such as API keys, passwords, and other credentials. To do so just run: ```bash"
  },
  {
    "id": 60,
    "about": "Set a configuration value called API_KEY, Interpolation, Connecting Services, Providers",
    "text": "defang config set API_KEY ``` You can use sensitive config by specifying them in the `environment` section of a service in a `compose.yaml` file without any value, or by specifying an environment key with a `null` value in your Pulumi code. ```yaml services: service1: image: image1:latest environment: - API_KEY ``` You can also use this syntax: ```yaml services: service1: image: image1:latest environment: API_KEY: ``` Use the `defang config` command of the Defang CLI to manage the values. Environment variables are set within the *environment* section of a service in a `compose.yaml` file. Any variables declared here will become available within the service container. Variables can be set by assigning a literal value, a reference to a configuration value, or a mix of literal and variable references. Variable references are declared using either **\\$\\{variable_name\\}** or **$variable_name** forms. It is recommended to use the bracketed form. By interpolating over variable references within a string we can construct complex strings. Interpolation may be particularly useful when constructing connection strings to other services. ``` service: environment: - USER_PASSWORD // configuration variable - USER_NAME     // configuration variable - CONNECT=dbservice:${USER_NAME}:${USER_PASSWORD}@example.com:9876 ``` In the example above, if we assume the value of the configuration variable ***USER_PASSWORD*** is *password* then the value assigned to ***CONNECT*** will resolve to *dbservice:alice:password@example.com:9876* During `defang compose up` all variable references will be replaced with the actual value and made available in the container. If any referenced variable is not found the `defang compose up` command will be canceled. If you have created a service before a secret you can connect it by running the `defang compose start` command if using the [`defang compose` workflow](./compose.md). If you are using the [Pulumi-based workflow](./pulumi.md) you will need to redeploy using Pulumi. :::tip Sample You can find a sample of how to set sensitive config values [here](https://github.com/DefangLabs/defang/tree/main/samples/nodejs/ChatGPT%20API). ::: Here are the different ways sensitive config values are stored depending on the provider you are using: * [AWS](../providers/aws/aws.md#secrets)"
  },
  {
    "id": 61,
    "about": "Defang Playground, Limitations, No Custom Domain Support, Max Resources",
    "text": "Defang aims to make it easier to deploy your services to the cloud. Specifically, Defang's goal is to make it easier to deploy your workloads to your *own* cloud accounts. We refer to this as bring-your-own-cloud (BYOC) which you can read about in more depth [here](./defang-byoc). We also provide Defang Playground, but it is only intended for non-production workloads so you can get a feel for how Defang works. Defang Playground is a free tier that allows you to deploy services to a Defang-hosted cloud account without needing to manage your own. It is intended for non-production workloads only. :::warning Please note that the Defang Playground is intended for testing/learning purposes only. The environment may be reset at any time. Do not run production workloads in Defang Playground. ::: There are a few limitations to Defang Playground. These limitations are in place to ensure that Defang Playground is only used for non-production workloads. If you are interested in running production workloads, you should use Defang BYOC. When you deploy a service to Defang Playground, it will be assigned a domain under the `defang.dev` domain. We do not support pointing your own domains to Defang Playground services. * Services: 4 * CPUs: 2 * Memory: 8GB * Replicas: 2"
  },
  {
    "id": 62,
    "about": "Services",
    "text": "Defang allows you deploy services defined as containers. You can define your services using a [compose file](./compose.md) or a [Pulumi program](./pulumi.md). Services can be exposed to the internet or kept private, and can communicate between themselves using the following conventions for hostnames: `<username>-<service-name>` You can learn more about accounts and usernames in the [accounts page](./accounts.md). :::tip Service Names Service names are defined in your compose file or your Pulumi program. ::: You can learn more about about how to define [services with compose files here](./compose.md) and [services with Pulumi here](./pulumi.md). You can learn more about how services are deployed in the [deployment page](./deployments.md). :::info While this is the current state of the Defang model, we plan to add support for other types of services in the future, including serverless functions. :::"
  },
  {
    "id": 63,
    "about": "Defang BYOC, Configuration",
    "text": "Defang aims to make it easier to deploy your services to the cloud. Specifically, Defang's goal is to make it easier to deploy your workloads to your *own* cloud accounts. We refer to this as bring-your-own-cloud (BYOC). We also provide Defang Playground, but it is only intended for non-production workloads so you can get a feel for how Defang works. Defang provisions and configures the necessary native managed services from your cloud provider to get your services up and running. For example, on AWS, Defang will configure an [ALB](https://aws.amazon.com/elasticloadbalancing/application-load-balancer/), setup [ECR](https://aws.amazon.com/ecr/), configure [CloudWatch](https://aws.amazon.com/cloudwatch/?nc2=type_a), and run your service on [ECS](https://aws.amazon.com/ecs/?nc2=type_a) and more. The following lists the existing and planned support for cloud providers. :::info Defang does not install or run any Defang or third party services at runtime. Defang does run the Defang build service to build your container images, which terminates after every build. ::: The Defang CLI can be configured to deploy to a cloud provider either by using the `--provider` flag or by setting the `DEFANG_PROVIDER` environment variable. For example: ```bash"
  },
  {
    "id": 64,
    "about": "Default is auto, which deploys to the Defang Playground",
    "text": "$ defang up --provider=aws"
  },
  {
    "id": 65,
    "about": "or, AWS, DigitalOcean, Azure, GCP",
    "text": "$ export DEFANG_PROVIDER=aws ``` :::info The Public Beta of the v1 Defang BYOC AWS Provider is released as of Feb 1 2024. ::: Please read the [AWS Provider](../providers/aws/aws.md) documentation for more details about how the AWS provider works and how to get started. :::info The Private Beta of the Defang BYOC DigitalOcean Provider will be released in September 2024. Its development is tracked [here](https://github.com/DefangLabs/defang/pull/594). ::: :::info We will be working on Azure support in the future. If you are interested in Azure support, please vote on [this issue](https://github.com/DefangLabs/defang/issues/57). ::: :::info We will be working on GCP support in the future. If you are interested in GCP support, please vote on [this issue](https://github.com/DefangLabs/defang/issues/58). :::"
  },
  {
    "id": 66,
    "about": "Observability, Tail, Architecture",
    "text": "You can easily monitor and debug your Defang services at build and runtime using the Defang CLI and portal. When you deploy a service using the `defang compose up` the CLI will automatically start tailing the build and runtime logs for your service. You can also view the logs for your service in the portal, or by using the `defang tail` command. :::warning Keep in mind that the Defang Portal only displays services deployed to Defang Playground. ::: The `defang tail` command will tail the logs for all your services by default. You can also specify a service `--name` to tail the logs for a specific service. If you specify the `--etag` the CLI will only tail the logs for a specific build of a service. ``` defang tail --name my-service defang tail --etag ua119053ehi2 ``` In [BYOC](./defang-byoc.md), output is logged to the native logging tools within your cloud provider. The CLI then tails the output as needed."
  },
  {
    "id": 67,
    "about": "Security, Roles & Permissions, Networking, SSL, Secrets",
    "text": "Defang's philosophy is to operate on a principle of \"least-privilege\". This means that we only give your services the permissions they need to operate. Because Defang creates roles, you need to have the appropriate permissions to create roles in your cloud provider account, typically the `AdministratorAccess` policy in AWS. :::tip Best practice is to run the Defang CLI in a CI/CD environment and to restrict deployment permissions at that level. ::: Defang creates roles for your services to use, and attaches policies to those roles. This means that your services only have the permissions they need to operate, and nothing more. Defang configures Security Groups, deploys applictions to a private subnet and uses an Application Load Balancer to route traffic to your services from the public internet only when required. Defang automates the process of obtaining and renewing SSL certificates for your services using AWS Certificate Manager. Secrets are stored in AWS Systems Manager Parameter Store, and are encrypted using a key stored in AWS Key Management Service (KMS)."
  },
  {
    "id": 68,
    "about": "Managed Redis, Current Support, How to use Managed Redis",
    "text": "Redis is an in-memory data structure store widely used for caching, real-time analytics, and session management due to its high performance, low latency, and support for various data types. Defang can help you provision a managed Redis instance. | Provider | Managed Redis | | --- | --- | | [Playground](/docs/providers/playground.md#managed-redis) | ❌ | | [AWS](/docs/providers/aws/aws.md#managed-redis) | ✅ | | [DigitalOcean](/docs/providers/digitalocean/digitalocean.md) | ❌ | To use managed Redis, in your `compose.yaml` file, use the `x-defang-redis` extension to define your Redis service. Adding the extension will tell Defang to provision a managed instance, rather than running Redis as a service. Defang will use the image tag to determine the version to provision from your cloud provider. Here's an example: ```yaml cache: image: redis:6.2 x-defang-redis: true restart: unless-stopped ports: - mode: host target: 6379 ```"
  },
  {
    "id": 69,
    "about": "Managed Storage",
    "text": "Defang helps you provision the infrastructure you need to run your services. That infrastructure is designed to scale in and out without persistent storage, so you can build highly scalable services. But Defang can also help you provision managed services to store and persist your data, like [caches](./managed-redis.md), [databases](./managed-postgres.md), and [object storage](./managed-object-storage.md)."
  },
  {
    "id": 70,
    "about": "Managed Object Storage, Current Support",
    "text": ":::info Not Yet Supported As of September 2024, Defang does not yet support managed Object Storage, but it is on our roadmap. If you are interested in Object Storage support, please vote on [this issue](https://github.com/DefangLabs/defang/issues/688). ::: Managed Object Storage, like AWS S3, is a service that allows you to store and retrieve large amounts of data. Object storage is ideal for storing unstructured data like images, videos, and backups. | Provider | Managed Object Storage | | --- | --- | | [Playground](/docs/providers/playground.md) | ❌ | | [AWS](/docs/providers/aws/aws.md) | ❌ | | [DigitalOcean](/docs/providers/digitalocean/digitalocean.md) | ❌ |"
  },
  {
    "id": 71,
    "about": "Managed Postgres, Current Support, How to use Managed Postgres, Required Configuration, Optional Configuration, Connecting to Managed Postgres, Example",
    "text": "Postgres, or PostgreSQL, is an advanced open-source relational database system known for its robustness, extensibility, and compliance with SQL standards, making it a popular choice for complex applications requiring reliable data integrity and sophisticated querying capabilities. | Provider | Managed Postgres | | --- | --- | | [Playground](/docs/providers/playground) | ❌ | | [AWS](/docs/providers/aws/aws.md#managed-postgres) | ✅ | | [DigitalOcean](/docs/providers/digitalocean/digitalocean.md) | ❌ | To use managed Postgres, in your `compose.yaml` file, use the `x-defang-postgres` extension to define your Postgres service. Adding the extension will tell Defang to provision a managed instance, rather than running Postgres as a service. When using managed Postgres, you **must** set a password for the database using `defang config set POSTGRES_PASSWORD`. If you do not provide the password, the deployment will fail. - `POSTGRES_PASSWORD`: You can can assign the password in the service's environment variables. To learn more about how this works, read about [configuration](../configuration.md). You can also set the following optional environment variables to configure the managed Postgres instance: - `POSTGRES_USER`: The user for the managed Postgres instance. The default is `postgres`. - `POSTGRES_DB`: The database name for the managed Postgres instance. The default is `postgres`. You can connect to the managed Postgres instance using the name of your service as the hostname, `POSTGRES_USER`, `POSTGRES_DB`, and `POSTGRES_PASSWORD` environment variables. ```yaml app: # [...] environment: POSTGRES_HOST: database POSTGRES_USER: postgres POSTGRES_DB: postgres // highlight-start # Note: by leaving the value empty, Defang will use the # value set using `defang config set POSTGRES_PASSWORD` POSTGRES_PASSWORD: // highlight-end # Note: you can create a connection string by using interpolation, # reference config variables by using ${<config name>} CONNECTURL: postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@database:5432/${POSTGRES_DB} database: image: postgres:15 x-defang-postgres: true ports: - mode: host target: 5432 environment: // highlight-start # Note: by leaving the value empty, Defang will use the # value set using `defang config set POSTGRES_PASSWORD` POSTGRES_PASSWORD: // highlight-end ```"
  },
  {
    "id": 72,
    "about": "Defang with Codespaces and GitPod, Getting Started with Github Codespaces and Defang, Step 1: Clone the Defang Codespace Project, Step 2: Create a Codespace, Step 3: Open in VS Code Desktop, Step 4: Run Defang Login, Step 5: Verify Running Services, Getting Started with GitPod Workspace with Defang, Step 1: Clone the Defang GitPod Workspace Project, Step 2: Initialize GitPod Workspace, Step 3: Lauch VS Code from GitPod, Step 4: Run Defang Login, Step 5: Verify Running Services",
    "text": "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/71pmCfLdxTg?si=Q9YIESYEUNTBFBIy\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe> This tutorial will guide you to set up Defang in both Codespaces and Gitpod. Start by cloning the [Defang Github-Codespace](https://github.com/DefangLabs/github-codespace) repo and pushing it to your own account. This repository is configured with a Codespace that has Defang pre-installed. Once you've pushed to your own GitHub repo, you'll be able to create a Codespace by clicking the Code button, selecting the Codespaces tab, and clicking the + icon. This will set up a development environment with Defang already installed, which might take a few minutes. ![Create Codespace button screenshot](/img/codespace-tutorial/new-codespace.png) For the `defang login` command to work correctly, you must open the Codespace in VS Code desktop. This is required because the login process is designed to run on localhost. ![Open in vs code desktop button screenshot](/img/codespace-tutorial/desktop.png) Within a VS Code desktop terminal, execute the following command. ```bash defang login ``` Although it may initially refuse to connect on your localhost, going back will show a \"successfully logged in\" message, confirming that you're logged into Defang. Now that you're logged in, you can use Defang commands. You can test that everything is working properly by running `defang ls` to list your running services. Start by cloning the [Defang Gitpod-Workspace](https://github.com/DefangLabs/gitpod-workspace) repo and pushing it to your own GitHub, GitLab, or BitBucket account. This repository includes a Workspace configuration that pre-installs Defang. Navigate `https://gitpod.io/#<your-repo-url>` to create your new workspace. In the repository, we have a yaml file indicating that we are using a pre-built dockerfile which installs Defang CLI for you. Open VS Code from GitPod, you will likely need to have the GitPod VS Code extension installed. ![Open in vs code desktop button screenshot](/img/codespace-tutorial/gitpod-desktop.png) ![Screenshot of GitPod extension](/img/codespace-tutorial/gitpod-ext.png) Within a VS Code desktop terminal, execute the following command. ```bash defang login ``` Now that you're logged in, you can use Defang commands. You can test that everything is working properly by running `defang ls` to list your running services."
  },
  {
    "id": 73,
    "about": "Windows Experience Improvements",
    "text": "For our Windows users out there, we've made some changes to make your Defang experience even smoother: * You can now install Defang using `winget`, the Windows Package Manager, for a streamlined setup * We've introduced a signed binary for added security and peace of mind Deploying your apps from Windows just got a little bit nicer."
  },
  {
    "id": 74,
    "about": "One-click Deploy",
    "text": "We've added a new feature that will make it even easier to get started with Defang. We've created a flow where each sample provides a button that allows you to immediately deploy a template with a GitHub action which will automatically deploy the sample to the Defang Playground. That means you can easily make changes by committing them to your brand new repo, and everything automatically updates in the Playground. It's a great way to get started with Defang and start experimenting with your own projects. Try it now [from our portal](https://portal.defang.dev/sample)! ![screenshot of 1-click deploy UI in portal](/img/july-update/1-click-deploy.png)"
  },
  {
    "id": 75,
    "about": "Managed Redis Updates",
    "text": "We first introduced this last month, but we've since rolled it out to everyone. We also added a sample that showcases the power of managed Redis: [BullMQ with Redis](https://github.com/DefangSamples/sample-bullmq-bullboard-redis-template). It demonstrates how you can use BullMQ and BullBoard with a managed Redis instance to create a powerful job queue system so you can easily build robust, scalable applications in AWS with Defang."
  },
  {
    "id": 76,
    "about": "Updated Samples",
    "text": "We've updated our sample projects to showcase how to use them with Defang, including: * [ASP.NET Core](https://github.com/DefangSamples/sample-csharp-dotnet-template) * [Feathers.js](https://github.com/DefangSamples/sample-feathersjs-template) * [Flask & LangChain](https://github.com/DefangSamples/sample-langchain-template) * [BullMQ with Redis](https://github.com/DefangSamples/sample-bullmq-bullboard-redis-template) Check them out if you're looking for some inspiration or a starting point for your own projects."
  },
  {
    "id": 77,
    "about": "CLI Updates",
    "text": "We're always looking for ways to enhance the CLI experience. Here's what's new: * `npx defang` automatically checks to always have the latest version of the CLI * The output during `defang compose up` has been streamlined to focus on the most important information * `defang tail` now supports listening to specific services, making it easier to troubleshoot issues * We've improved hints and error messages to better guide you when something goes wrong * The CLI now has improved color support for light theme terminals, making it easier on the eyes It's the small refinements that can make a big difference in your workflow."
  },
  {
    "id": 78,
    "about": "Other Updates",
    "text": "Here are a few more things that didn't quite fit with the rest: * Visibility into ECS deployment events in BYOC tail logs * Improvements to ACME certificate generation Keep an eye out for these updates in the near future. --- As always, we'd love your help shaping the future of Defang, so let us know what you'd like to see next. Happy deploying! 🚀"
  },
  {
    "id": 79,
    "about": "Samples, samples, samples!, Start from a sample in seconds, Sample templates",
    "text": "We've been cranking out samples like there's no tomorrow. We've published samples to get you up and running with FastAPI, Elysia, Angular, React, Svelte, Sveltekit, Sails.js, Phoenix, and more. You can filter through them on the [Defang homepage](https://defang.io/#deploy). Check out our video about all the [new samples and functionality](https://www.youtube.com/watch?v=8wIU_af-sX8). With all this work we've been putting into samples, we realized it would be pretty awesome if you could clone a sample faster. So we updated the CLI. Now, if you run `defang generate` you'll be able to filter through the samples and choose one. You can also filter through the samples on the [Defang homepage](https://defang.io/#deploy) and clone any of them with a simple command like `defang new sveltekit`. If you look through our [GitHub organization](https://github.com/DefangLabs), you'll start seeing loads of repos with the structure `sample-<sample_name>-template`. If you open them, you can create a new repo by clicking this button: ![screenshot of github UI pointing towards template button](https://github.com/DefangLabs/defang-docs/assets/910895/97d33d90-43b9-499a-b139-e114b701adcb) Not only will that create a new repo based on the sample in your account, but if you've used Defang before (and accepted the Terms and Conditions) it will automatically deploy it to the playground so you can start playing with Defang immediately."
  },
  {
    "id": 80,
    "about": "ACME for BYOD",
    "text": "We’re excited to announce that ACME support is now available for Bring Your Own Domain (BYOD) in both Bring Your Own Cloud (BYOC) and Playground. This means you can easily add Let's Encrypt certificates to your custom domains, regardless of where your DNS is hosted. Defang will handle the certificate generation and automatic renewal for you. Nice and easy."
  },
  {
    "id": 81,
    "about": "Warnings for Stateful Services",
    "text": "To help you avoid potential pitfalls, we’ve added warnings against deploying stateful services with Defang, since you shouldn't actually be deploying anything stateful with Defang. For example, we'll warn you if you try to deploy services with images like `postgres:<version>`, `redis:<version>`, `minio:<version>`, etc. In the near future we will be offering ways to run some stateful services using cloud providers' managed offerings. For example Redis, Postgres, and S3. Speaking of which..."
  },
  {
    "id": 82,
    "about": "Managed Redis!",
    "text": "Redis is such a versatile tool that can help with so many different use cases. So we've introduced Managed Redis! You can now specify the Redis image in your `compose.yaml` file and indicate that you want it managed by your cloud provider using `x-defang-redis: true` in your service definition."
  },
  {
    "id": 83,
    "about": "Load Testing",
    "text": "To make sure Defang is ready for loads of new users, we've been doing a lot of load testing. This is going to help us identify and address potential bottlenecks so we can make sure that Defang scales efficiently and handles all you new users smoothly."
  },
  {
    "id": 84,
    "about": "Upgraded Kaniko",
    "text": "We’ve upgraded our Kaniko integration to version 1.23.0 to improve your container build experience. The new version comes with several bug fixes that enhance stability and performance. This means faster and more reliable builds for your applications."
  },
  {
    "id": 85,
    "about": "Upcoming Features, Managed Postgres, BYOC ECS Lifecycle Events",
    "text": "We’re not stopping here! Here’s a sneak peek at what’s coming soon: Building on the momentum of Managed Redis, we’re introducing Managed Postgres. Soon you’ll be able to easily integrate a managed Postgres database into your deployment! Defang runs your services with ECS, and we're working on making it clearer what's happening under the hood. --- Stay tuned for more updates and improvements. As always, we appreciate your feedback and are committed to making Defang the easiest way to deploy your applications to the cloud. Go deploy something awesome! 🚀"
  },
  {
    "id": 86,
    "about": "npx defang",
    "text": "We know a lot of you are using Defang for the first time. To make it easier to get started, we've added a new way to install the Defang CLI. Now you can use npx to run the CLI without installing it globally. Just run: ```bash npx defang@latest ``` This will download the latest version of the Defang CLI and run it for you. No need to worry about installing or updating the CLI manually!"
  },
  {
    "id": 87,
    "about": "(coming soon) Bring Your Own Domain with Let's Encrypt",
    "text": "Previously you could bring your own domain with <a href=\"/docs/concepts/defang-byoc\">Defang BYOC</a>... but you had to host the DNS records with AWS Route 53 in the AWS account you were deploying to. Now you can point domains hosted anywhere to your Defang deployment and we'll take care of the rest. We'll help generate a Let's Encrypt certificate for your domain and automatically renew it for you."
  },
  {
    "id": 88,
    "about": "Windows Support",
    "text": "Some of you use Defang from a Windows PC and previously a few features didn't work correctly on Windows. Some stuff we've fixed: * ansi color codes in logs * handle ctrl-c when tailing logs"
  },
  {
    "id": 89,
    "about": "Improved CLI",
    "text": "We've made a variety of small tweaks and improvements to the CLI which should make things a little bit cleaner and more stable. * log messages have been made more clear * adding more progress information during compose up"
  },
  {
    "id": 90,
    "about": "Stability and Reliability",
    "text": "Defang is still in Beta and we know we've got to be rock solid by the time we release V1, so we've been working hard to improve the stability and reliability of the Defang architecture. We've been battle-testing different technologies to see how they hold up and have mad a few changes that should make things even better: * capacity improvements in build queues * improvements in log availability"
  },
  {
    "id": 91,
    "about": "September Events",
    "text": "In Sep, the Defang team participated in a number of events including HacktheNorth, LangaraHacks, MLH Global Hack Week and other MLH hackathons. It’s great to see Defang being put to use by these hackers to build their amazing projects. And we get useful insights from these events that help us improve the product. We will continue to do more of these events in the future - watch our [LinkedIn](https://www.linkedin.com/company/defanglabs) page for announcements. ---"
  },
  {
    "id": 92,
    "about": "Google for Startups Accelerator Canada",
    "text": "Also in Sep, Defang was included in the [Google for Startups Accelerator Canada.](https://www.linkedin.com/posts/irankarimian_ai-startups-dominate-latest-google-for-startups-activity-7241805161411551232-thky?utm_source=share&utm_medium=member_desktop) This is a great recognition of the value Defang is providing to cloud developers. Through our collaboration with Google, we hope to add GCP as another target cloud for Defang in the coming months - stay tuned! --- <img src=\"/img/september-update/coffee-chat.png\" alt=\"TownHall\" style={{ width: 300 }} />"
  },
  {
    "id": 93,
    "about": "Defang Coffee Chat",
    "text": "Mark your calendars! If you’re eager to learn more about what’s coming next, join us for our Defang Coffee Chat on Oct 23rd. We’ll be sharing our future roadmap, answering your questions, and gathering your feedback. <Button href=\"https://lu.ma/hlnq84xq\" variant=\"contained\" size=\"large\" target=\"_blank\"> Register here! </Button> --- As always, we appreciate your feedback and are committed to making Defang the easiest way to develop, deploy, and debug your cloud applications. Go build something awesome! 🚀"
  },
  {
    "id": 94,
    "about": "Townhall",
    "text": "If you're excited about what's coming next and want to hear more about our vision for the future, join us for our Townhall on August 21st. We'll be sharing more about our roadmap and what we're working on next. We'll also be making sure to take time to answer any questions you have, hear your feedback, and learn more about what you want from Defang! **[Register here](https://lu.ma/rlj13eq5)** --- We’re excited to keep improving Defang to make it the easiest way for you to Develop, Deploy, and Debug cloud application. Stay tuned for more updates next month."
  },
  {
    "id": 95,
    "about": "Prerequisites",
    "text": "Before we dive into the details, let's make sure you have everything you need to get started: 1.  **Install Defang CLI:** Simplify your deployment process by installing the Defang CLI tool. Follow the instructions [here](https://docs.defang.io/docs/getting-started/installing) to get it up and running quickly. 2.  **Slack API Token:** Create a Slack App at https://api.slack.com/apps, granting it the necessary permissions, including the bot `chat:write` scope. ![screenshot of the slack admin UI showing the bot scopes](/img/slackbot-sample/scopes.png) 3. **Install the app in your workspace:** You'll need to install the app in your workspace for it to work. Click the \"Install to Workspace\" button in the Slack admin UI to do this. Mine says \"Reinstall\" because I've already installed it. ![screenshot of the slack admin UI showing the install button](/img/slackbot-sample/install-app.png) 4. **Copy the Bot User OAuth Access Token:** This token will authenticate your Slackbot with the Slack API. ![screenshot of the slack admin UI showing the auth token field](/img/slackbot-sample/token.png) 5. **Invite the Bot to a Channel:** To enable your Slackbot, invite it to the desired channel using the `@<botname>` command. In the screenshot below, my bot's name actually starts with the word invite, but if your bot is called `mycoolbot` you would invite it with `@mycoolbot`. This ensures your Slackbot has the required permissions to interact with the channel. ![screenshot of the slack chat UI showing me inviting my bot](/img/slackbot-sample/invite.png) 6. **Clone the Sample Code:** Clone the Defang repository and navigate to the `samples/golang/slackbot` directory. This directory contains the sample code for the Slackbot. ```bash git clone https://github.com/DefangLabs/defang cd defang/samples/golang/slackbot ```"
  },
  {
    "id": 96,
    "about": "Deployment Steps",
    "text": "Now that we have everything set up, let's dive into the deployment process. Follow these steps to deploy your Slackbot effortlessly: 1.  **Set Up Secrets:** Prioritize security by configuring environment variables as sensitive config. Use the Defang CLI's `defang config set` command to set the `SLACK_TOKEN` and `SLACK_CHANNEL_ID` configs. Replace `your_slack_token` and `your_slack_channel_id` with the respective values: ```bash defang config set --name SLACK_TOKEN --value your_slack_token defang config set --name SLACK_CHANNEL_ID --value your_slack_channel_id ``` 2.  **Deploy the Slackbot:**  Use the Defang CLI's `defang compose up` command to deploy."
  },
  {
    "id": 97,
    "about": "Usage",
    "text": "With your Slackbot up and running, let's explore how to make the most of it. Simply send a POST request to the `/` endpoint with a JSON body containing the message you want to post to the Slack channel. Popular tools like cURL or Postman can help you send the request: ```bash curl 'https://raphaeltm-bot--8080.prod1.defang.dev/' \\ -H 'content-type: application/json' \\ --data-raw $'{\"message\":\"This is your bot speaking. We\\'ll be landing in 10 minutes. Please fasten your seatbelts.\"}' ```"
  },
  {
    "id": 98,
    "about": "Takeaways",
    "text": "Congratulations! You've successfully deployed a Slackbot using Defang. If you deployed this as an internal service, you could use it to send status updates, alerts, or other important messages to your team. The possibilities are endless!"
  },
  {
    "id": 99,
    "about": "Ask Defang",
    "text": "We've just rolled out an initial version of Ask Defang, our AI-driven documentation assistant that can help you navigate the Defang docs and get deploying faster. It's deployed with Defang and using a combination of embeddings run on a GPU-powered service, Defang managed Redis, and OpenAI APIs. Check it out [here](/docs/ask) or head to [ask.defang.io](https://ask.defang.io) to get started!"
  },
  {
    "id": 100,
    "about": "Enhanced Platform Symmetry",
    "text": "We've been hard at work improving the symmetry between our Playground and BYOC environments as well as `docker compose up` vs `defang compose up` to provide a more seamless experience. You can now use multiple compose files and in BYOC the CLI will subscribe to events to monitor service health during deployments."
  },
  {
    "id": 101,
    "about": "AI Features and Debugging Improvements",
    "text": "We've been working on several AI-driven enhancements to make your development process even more efficient. We've addressed key issues, such as file generation failures due to parsing errors and invalid compose files. Also, our Debug Assistant is now more robust, handling context size limits better than before. --- ![Workshop](/img/august-update/workshop.jpg)"
  },
  {
    "id": 102,
    "about": "August Events",
    "text": "This month, we hosted an in-person [workshop](https://www.linkedin.com/feed/update/urn:li:activity:7233915052083310595/) to get more developers acquainted with Defang and simplify their cloud app journey. You can view the presentation [here](https://s.defang.io/cloudjam2024). We also held the first-ever DevTools Vancouver [meetup](https://www.linkedin.com/posts/defanglabs_devtoolsmeetup-activity-7234599713751060483-zQsg?utm_source=share&utm_medium=member_desktop), bringing together local DevTool founders, engineers, and enthusiasts. Looking ahead, we’re excited to collaborate with [MLH](https://mlh.io/), [Hack the North](https://hackthenorth.com/), [LangaraHacks](https://lhacks.langaracs.ca/), and more in September. If you'd like to attend any of these events, be sure to sign up! --- <img src=\"/img/august-update/townhall.png\" alt=\"TownHall\" style={{ width: 300 }} />"
  },
  {
    "id": 103,
    "about": "Townhall",
    "text": "Mark your calendars! If you’re eager to learn more about what’s coming next, join us for our Townhall on September 25th. We’ll be sharing our future roadmap, answering your questions, and gathering your feedback. <Button href=\"https://lu.ma/9d8irae8\" variant=\"contained\" size=\"large\" target=\"_blank\"> Register here! </Button> ---"
  },
  {
    "id": 104,
    "about": "Roadmap",
    "text": "We're working on a number of new features to make Defang even better. Here are some of the most exciting ones: - **Managed Postgres**: We're working on getting Defang to provision managed Postgres services for you, so you can easily store and query data in your applications. - **Digital Ocean BYOC**: We're working on adding Digital Ocean BYOC to give you even more choice over where you deploy your applications. --- We’re excited to keep enhancing Defang to make it the easiest way for you to Develop, Deploy, and Debug cloud applications. Stay tuned for more updates next month! 🚀"
  }
]